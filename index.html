<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Storage Event</title>
</head>
<body>
    <h1>STORAGE EVENT</h1>

    <script>
    //     logoutListener = (e) => {
	// 	if(e.key === 'userName' && e.oldValue && !e.newValue) {
	// 		this.props.logout()
	// 		this.props.history.push('/login')
	// 	}
	// }

    //     window.addEventListener('storage', this.logoutListener)

    //     window.removeEventListener('storage', this.logoutListener)

    //USAGE: NAAMA ORU APPLICATION AH 3 WINDOW LA OPEN PANNITTU , EDHAAVDHU ORU WINDOW LA CLOSE PANNUMPODHU
    //MATHA ELLA WINDOW VAIUM LOGIN PAGE KU MOVE PANNANUM.

    //STEP1: NAAMA LOGIN PANNUMPODHU OR ORU NEW TAP OPEN PANNI ENTER AH THATTUMPODHUM YEDHAAVDU ORU FILE CALL AAGUM EX(fuseAuthorizatin file) APPODHU  window.addEventListener('storage', this.logoutListener) ADD PANNROM.

    //STEP2: NAAMA YEN STORAGE USE PANROM??
    //ANS: NAAM LOCAL STORAGE LA YEDHAAVADHU CHANGES NADANDHAAL STORAGEEVENTLISTENER CALL AAGITTE IRUKKUM. 
    //ADHAVADHU, NAAMA LOCAL STORAGE LA YEDHAVADHU ORU KEY AND VALUE ADD PANNALO OR ORU KEY YA REMOVE PANNALO CALL AAGUM.
    //KEY YA ADD PANNUMPODHU e.key AND e.oldValue NULL NU VARUM, e.newValue NAAMA SET PANRA VALUE VARUM;
    //KEY YA REMOVE PANNUMPODHU  e.key AND e.oldValue NAAMA DELETE PANNA VALUE VARUM, e.newValue NULL NU VARUM;

    //STEP:3
    //IPPO NAAMA ENNA SOLROMNAA NAAN LOGOUT PANNUMPODHU LOCAL STORAGE LA ULLA VALUE DELETE PANNUVEN; KURIPPA username AH DELETE 
    //PANNUVEN. APPODHU STORAGE EVENT CALL AAGUM, APPO oldvalue LA NAAMA DELETE PANNA VALUE VARUM, newvalue la NULL NU VARUM.
    //IPPO IDHA VATCHU NAAM LOGIN PAGE KU PUSH PAANIVIDUROM.

    //STEP:4
    //NAAMAA ORU EVENT AH ADD PANNAAL ADHA NAAMA DELETE PANNANUM,NAAM EPPOD DELETE PANNROM ENDRAL APPLICATION DOM LA IRUNDHU REMOVE AAGUMPODHO OR NAAAMA YEDHAAVAUDH OR BUTTON CLICK PANNUMPODHO OR NAAM YEDHUKKAVADHU ORU ONCLICK EVENT LISTENER ADD PANRA IDATHULO NAAMA  window.removeEventListener('storage', this.logoutListener) PAYAN PADUTTHUROM;

    //STPE:4 NAAMA DELETE PANNUMPODHU ORE MADHIRI FUNCTON NAME IRUKKANAUM. VERA VERA FILE IRUKKUDHU ENDRAAL NAAM ADD PANNUMPODHU ULLA FUNCTION AH EXPORT PANNI VATCHUKKANUM. IDHU MIGA MIGA MUKKIYA KAARANM.

    //STPE:5 MIGA MUKKIYAMANADHU(OTHER THAN ITSELF) INDHA LISTENRFUNCTION EPPPODHU CALL AAGUM ENDRALL CURRENT WINDOW VA 
    //THAVIRTHUTTU MATTHA WINDOW LA ADD AAGI IRUKKURA EVET LISTENR LA DHAAN CALL AAGUM.

    //STEP:6 NAAMA LOGOUT PAGE KU MATTUMDHAAN PANNAUM NU AVASIYA ILLA. MATTRABADI NAMAKKU MAIN WINDOW LA LOCAL STORAGE CHANGE AANA NAMUKKU ANDHA EVENT LISTENER LA ENNAA PANNANUMO ADHU ELLATTHAIYM PANNIKALAAM.
    </script>
    
</body>
</html>